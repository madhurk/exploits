package exploits.madhur.androidrx.io;

import exploits.madhur.androidrx.api.CourseraApi;
import exploits.madhur.androidrx.model.Catalog;
import exploits.madhur.androidrx.model.Element;
import retrofit.RestAdapter;
import retrofit.android.AndroidLog;
import rx.Observable;

/**
 * Created by madhurkhandelwal on 8/6/15.
 */
public class CatalogFetcher {

    public static final String BASE_URL = "https://api.coursera.org/api/catalog.v1";
    RestAdapter restAdapter;
    CourseraApi apiService;

    public CatalogFetcher() {
        restAdapter = new RestAdapter.Builder().setEndpoint(BASE_URL).//build();
                setLogLevel(RestAdapter.LogLevel.BASIC).setLog(new AndroidLog("Retrofit")).build();
        apiService = restAdapter.create(CourseraApi.class);
    }

    public Observable<Catalog> getCatalog() {
        return apiService.getCatalog("smallIcon,instructor,universityLogo,shortDescription");
    }

    public Observable<Catalog> getCourse(int courseId){
        return apiService.getCourse("largeIcon,universityLogo,shortDescription", courseId);
    }
}
